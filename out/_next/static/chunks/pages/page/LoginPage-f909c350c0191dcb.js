(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[641],{476:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/page/LoginPage",function(){return r(1963)}])},8763:function(e,n,r){"use strict";r.d(n,{m3:function(){return v},RD:function(){return h},Se:function(){return m},Z0:function(){return g},OH:function(){return j},vl:function(){return b},OZ:function(){return x},iM:function(){return k},lW:function(){return w}});var t=r(4051),o=r.n(t),a=(r(7294),r(9669)),s=r.n(a),c=r(1163);function u(e,n,r,t,o,a,s){try{var c=e[a](s),u=c.value}catch(i){return void r(i)}c.done?n(u):Promise.resolve(u).then(t,o)}function i(e){return function(){var n=this,r=arguments;return new Promise((function(t,o){var a=e.apply(n,r);function s(e){u(a,t,o,s,c,"next",e)}function c(e){u(a,t,o,s,c,"throw",e)}s(void 0)}))}}function l(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function f(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){l(e,n,r[n])}))}return e}var d=s().CancelToken.source(),p=(d.token,function(){var e={},n="http://localhost:3000/WebPreScreening";console.log("current url : "+n),e.defaultHost=n;var r="http://uat-sginonag-api.thailife.com:8280/WebPreScreenLinkedWS";return n.includes("localhost")?(console.log("local env!!!!"),e.backendHost=r):n.includes("dev")?(console.log("dev env!!!!"),e.backendHost="http://dev-sgi-api.thailife.com:8280/WebPreScreenLinkedWS"):n.includes("sit")?(console.log("sit env!!!!"),e.backendHost="https://sit-sgi-api.thailife.com:8243/WebPreScreenLinkedWS"):n.includes("uat")?(console.log("uat env!!!!"),e.backendHost=r):n.includes("preprod")?(console.log("prepord env!!!!"),e.backendHost="corews.thailife.com:8080/WebPreScreenLinkedWS"):(console.log("case no env : "+n),e.backendHost=n+"/WebPreScreenLinkedWS"),console.log("call url final : "+e.backendHost),e}()),v=function(){var e=i(o().mark((function e(n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.cancelToken=d.token,n.ldapURL=p.ldapURL,e.next=4,s().post(p.defaultHost+"/api/login",n);case 4:return(r=e.sent)&&localStorage.setItem("user_data",JSON.stringify(r.data)),e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),m=function(){var e=i(o().mark((function e(n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("API backendHost>> "+p.backendHost),console.log("API defaultHost>> "+p.defaultHost),e.next=4,s().get(p.defaultHost+"/api/testApi",{crossDomain:!0});case 4:return(r=e.sent)&&localStorage.setItem("testApi: ",JSON.stringify(r.data)),e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(){localStorage.removeItem("user_data"),c.default.push("/")},g=function(){var e=i(o().mark((function e(n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.cancelToken=d.token,e.next=3,s().post(p.defaultHost+"/api/validateData",n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),b=(function(){var e=i(o().mark((function e(n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.cancelToken=d.token,e.next=3,s().post(p+"/api/exportExcel",n,{responseType:"blob"});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})))}(),function(e,n,r){return function(t){t?n(f({},e,l({},r,t))):n(f({},e,l({},r,"")))}}),x=function(e,n){return function(e){console.log("event e: "+e);var r=e.target,t=r.name,o=r.value;n((function(e){return f({},e,l({},t,o))}))}},k=function(e,n){return"form-control"+(e&&!n?" is-invalid":"")},w=function(e,n){return{borderColor:e&&!n?"#dc3545":""}},j=function(e){var n=0;return e.length>0&&(e=e.replaceAll(",",""),n=parseFloat(e)),n.toFixed(0).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}},1963:function(e,n,r){"use strict";r.r(n);var t=r(4051),o=r.n(t),a=r(5893),s=r(7294),c=r(8763),u=r(6751),i=r(450),l=r(5193),f=r(1163);function d(e,n,r,t,o,a,s){try{var c=e[a](s),u=c.value}catch(i){return void r(i)}c.done?n(u):Promise.resolve(u).then(t,o)}function p(e){return function(){var n=this,r=arguments;return new Promise((function(t,o){var a=e.apply(n,r);function s(e){d(a,t,o,s,c,"next",e)}function c(e){d(a,t,o,s,c,"throw",e)}s(void 0)}))}}n.default=function(e){e.props;var n=(0,f.useRouter)(),r=(0,s.useState)({username:"",password:""}),t=r[0],d=r[1],v=(0,s.useState)(!1),m=v[0],h=v[1],g=(0,s.useState)(!0),b=g[0],x=g[1],k=(0,s.useState)(!1),w=k[0],j=k[1],S=t.username,y=t.password,P=function(){var e=p(o().mark((function e(r){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),j(!0),h(!0),!S||!y){e.next=11;break}return e.next=6,(0,c.m3)(t);case 6:a=e.sent,console.log("res status: "+a.status),"success"===a.status?(j(!1),x(!0),n.push("/page/MainPage")):(j(!1),x(!1)),e.next=12;break;case 11:j(!1);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),H=function(){var e=p(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.Se)("");case 2:n=e.sent,console.log("test resp: "+JSON.stringify(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"Login",children:(0,a.jsxs)("form",{name:"form",onSubmit:P,children:[!b&&(0,a.jsx)(u.Z,{variant:"danger",children:"Username or Password is not correct."}),(0,a.jsx)("div",{className:"form-group",children:(0,a.jsxs)(i.X2,{children:[(0,a.jsx)(i.JX,{sm:"4",children:(0,a.jsx)("label",{onClick:function(){H()},children:"Username"})}),(0,a.jsx)(i.JX,{sm:"8",children:(0,a.jsx)(l.Z,{name:"username",value:S,onChange:(0,c.vl)(t,d,"username"),className:(0,c.iM)(m,S)})})]})}),(0,a.jsx)("div",{className:"form-group",children:(0,a.jsxs)(i.X2,{children:[(0,a.jsx)(i.JX,{sm:"4",children:(0,a.jsx)("label",{children:"Password"})}),(0,a.jsx)(i.JX,{sm:"8",children:(0,a.jsx)(l.Z,{type:"password",name:"password",value:y,onChange:(0,c.vl)(t,d,"password"),className:(0,c.iM)(m,y)})})]})}),(0,a.jsx)("div",{className:"form-group",children:(0,a.jsxs)(i.X2,{children:[(0,a.jsx)(i.JX,{sm:"4"}),(0,a.jsx)(i.JX,{sm:"8",children:(0,a.jsxs)("button",{className:"btn btn-primary",children:[w&&(0,a.jsx)("span",{className:"spinner-border spinner-border-sm mr-1"}),"Login"]})})]})})]})})})}}},function(e){e.O(0,[260,454,193,751,774,888,179],(function(){return n=476,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[422],{8763:function(e,n,t){t.d(n,{m3:function(){return p},RD:function(){return b},Se:function(){return h},Z0:function(){return v},OH:function(){return k},vl:function(){return x},OZ:function(){return j},iM:function(){return g},lW:function(){return y}});var r=t(4051),a=t.n(r),o=(t(7294),t(9669)),l=t.n(o),s=t(1163);function c(e,n,t,r,a,o,l){try{var s=e[o](l),c=s.value}catch(i){return void t(i)}s.done?n(c):Promise.resolve(c).then(r,a)}function i(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var o=e.apply(n,t);function l(e){c(o,r,a,l,s,"next",e)}function s(e){c(o,r,a,l,s,"throw",e)}l(void 0)}))}}function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){u(e,n,t[n])}))}return e}var f=l().CancelToken.source(),m=(f.token,function(){var e={},n="http://localhost:3000/WebPreScreening";console.log("current url : "+n),e.defaultHost=n;var t="http://uat-sginonag-api.thailife.com:8280/WebPreScreenLinkedWS";return n.includes("localhost")?(console.log("local env!!!!"),e.backendHost=t):n.includes("dev")?(console.log("dev env!!!!"),e.backendHost="http://dev-sgi-api.thailife.com:8280/WebPreScreenLinkedWS"):n.includes("sit")?(console.log("sit env!!!!"),e.backendHost="https://sit-sgi-api.thailife.com:8243/WebPreScreenLinkedWS"):n.includes("uat")?(console.log("uat env!!!!"),e.backendHost=t):n.includes("preprod")?(console.log("prepord env!!!!"),e.backendHost="corews.thailife.com:8080/WebPreScreenLinkedWS"):(console.log("case no env : "+n),e.backendHost=n+"/WebPreScreenLinkedWS"),console.log("call url final : "+e.backendHost),e}()),p=function(){var e=i(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.cancelToken=f.token,n.ldapURL=m.ldapURL,e.next=4,l().post(m.defaultHost+"/api/login",n);case 4:return(t=e.sent)&&localStorage.setItem("user_data",JSON.stringify(t.data)),e.abrupt("return",t.data);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=i(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("API backendHost>> "+m.backendHost),console.log("API defaultHost>> "+m.defaultHost),e.next=4,l().get(m.defaultHost+"/api/testApi",{crossDomain:!0});case 4:return(t=e.sent)&&localStorage.setItem("testApi: ",JSON.stringify(t.data)),e.abrupt("return",t.data);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),b=function(){localStorage.removeItem("user_data"),s.default.push("/")},v=function(){var e=i(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.cancelToken=f.token,e.next=3,l().post(m.defaultHost+"/api/validateData",n);case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=(function(){var e=i(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.cancelToken=f.token,e.next=3,l().post(m+"/api/exportExcel",n,{responseType:"blob"});case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})))}(),function(e,n,t){return function(r){r?n(d({},e,u({},t,r))):n(d({},e,u({},t,"")))}}),j=function(e,n){return function(e){console.log("event e: "+e);var t=e.target,r=t.name,a=t.value;n((function(e){return d({},e,u({},r,a))}))}},g=function(e,n){return"form-control"+(e&&!n?" is-invalid":"")},y=function(e,n){return{borderColor:e&&!n?"#dc3545":""}},k=function(e){var n=0;return e.length>0&&(e=e.replaceAll(",",""),n=parseFloat(e)),n.toFixed(0).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}},3422:function(e,n,t){t.r(n),t.d(n,{default:function(){return J}});var r=t(4051),a=t.n(r),o=t(5893),l=t(7294),s=t(450),c=(t(3939),t(1535),t(8763)),i=t(4647),u=t(9289),d=t(5193),f=t(7425),m=t(4182),p=(t(381),t(5916));t(9041);function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function j(e,n){return!n||"object"!==y(n)&&"function"!==typeof n?h(e):n}function g(e,n){return g=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},g(e,n)}var y=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function k(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=x(e);if(n){var a=x(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return j(this,t)}}var w=function(e){!function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&g(e,n)}(o,e);var n,t,r,a=k(o);function o(e){var n,t=e.locale,r=e.formats,l=e.instance;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),v(h(n=a.call(this,{locale:t,formats:r,instance:l})),"date",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===e)return null;var t=n.moment(e);return t.locale(n.locale),t})),v(h(n),"format",(function(e,t){return n.toBuddhistYear(e,t)})),n}return n=o,(t=[{key:"toBuddhistYear",value:function(e,n){var t=e.format("YYYY"),r=(parseInt(t)+543).toString();return e.format(n.replace("YYYY",r).replace("YY",r.substring(2,4))).replace(t,r)}}])&&b(n.prototype,t),r&&b(n,r),o}(p.Z),O=t(7827),N=t(4282);function S(e,n,t,r,a,o,l){try{var s=e[o](l),c=s.value}catch(i){return void t(i)}s.done?n(c):Promise.resolve(c).then(r,a)}function P(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function X(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){P(e,n,t[n])}))}return e}var J=function(e){var n=(0,l.useState)((function(){try{return{}}catch(e){return console.log(e),{}}})),t=n[0],r=(n[1],(0,l.useState)(!1)),p=r[0],h=r[1],b=function(){h(!p)},v=(0,l.useState)({firstName:"",lastName:"",idNo:"",birthDate:new Date,planCode:"",sum:"",termInsure:"",sex:"",userName:t.username}),x=v[0],j=v[1],g=(0,l.useState)({}),y=g[0],k=g[1],J=x.firstName,C=x.lastName,D=x.idNo,H=x.birthDate,W=x.planCode,Y=x.sum,_=(x.sex,(0,l.useState)(!1)),Z=_[0],L=_[1],R=(0,l.useState)(!1),I=R[0],E=R[1],T=(0,l.useState)(!1),A=T[0],M=T[1],B=(0,l.useState)(!1),K=(B[0],B[1],function(){var e,n=(e=a().mark((function e(n){var t,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E(!0),L(!0),console.log("data submit: "+JSON.stringify(x)),!(J&&C&&D&&H&&W&&Y)){e.next=16;break}return t=x.sum.replaceAll(",",""),x.sum=t,e.next=8,(0,c.Z0)(x);case 8:r=e.sent,console.log("ValidateData result: "+JSON.stringify(r)),console.log("response.result: "+r.result),o=(0,c.OH)(x.sum),x.sum=o,r.result,E(!1),h(!0),k({result:r.result,message:r.message,detail:r.detail}),e.next=17;break;case 16:E(!1);case 17:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,a){var o=e.apply(n,t);function l(e){S(o,r,a,l,s,"next",e)}function s(e){S(o,r,a,l,s,"throw",e)}l(void 0)}))});return function(e){return n.apply(this,arguments)}}()),F=(0,l.useState)(new Date),U=F[0],z=F[1],V=(0,l.useState)("");V[0],V[1];return(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"MainHeader",children:(0,o.jsxs)(s.X2,{children:[(0,o.jsx)(s.JX,{md:7}),(0,o.jsx)(s.JX,{md:4,children:(0,o.jsxs)("span",{className:"head-label",children:["Welcome :",t.fullname]})}),(0,o.jsx)(s.JX,{md:1,children:(0,o.jsx)(i.Z,{children:(0,o.jsx)(u.Z,{className:"btn-logout",onClick:function(e){(0,c.RD)()},children:"Logout"})})})]})}),(0,o.jsx)("div",{className:"MainPage",children:(0,o.jsxs)("form",{name:"main_form",children:[(0,o.jsxs)(s.X2,{children:[(0,o.jsx)(s.JX,{sm:"2",children:(0,o.jsx)("label",{children:"\u0e0a\u0e37\u0e48\u0e2d"})}),(0,o.jsx)(s.JX,{sm:"4",children:(0,o.jsx)(d.Z,{name:"firstName",placeholder:"\u0e23\u0e30\u0e1a\u0e38\u0e0a\u0e37\u0e48\u0e2d",autoComplete:"off",value:J,onChange:(0,c.vl)(x,j,"firstName"),style:(0,c.lW)(Z,J)})}),(0,o.jsx)(s.JX,{sm:"2",children:(0,o.jsx)("label",{children:"\u0e19\u0e32\u0e21\u0e2a\u0e01\u0e38\u0e25"})}),(0,o.jsx)(s.JX,{sm:"4",children:(0,o.jsx)(d.Z,{name:"lastName",placeholder:"\u0e23\u0e30\u0e1a\u0e38\u0e19\u0e32\u0e21\u0e2a\u0e01\u0e38\u0e25",autoComplete:"off",value:C,onChange:(0,c.vl)(x,j,"lastName"),style:(0,c.lW)(Z,C)})})]}),(0,o.jsxs)(s.X2,{children:[(0,o.jsx)(s.JX,{sm:"2",children:(0,o.jsx)("label",{children:"\u0e27\u0e31\u0e19/\u0e40\u0e14\u0e37\u0e2d\u0e19/\u0e1b\u0e35"})}),(0,o.jsx)(s.JX,{sm:"4",children:(0,o.jsx)(O.M,{utils:w,locale:"th",children:(0,o.jsx)(N.e,{autoOk:!0,placeholder:"\u0e23\u0e30\u0e1a\u0e38\u0e27\u0e31\u0e19\u0e40\u0e01\u0e34\u0e14",format:"DD/MM/YYYY",views:["year","month","date"],openTo:"year",maxDate:new Date,value:U,InputProps:{disableUnderline:!0},onChange:function(e){z(e),j(X({},x,P({},"birthDate",e)))},style:{border:"1px solid #e5e5ea",borderRadius:6,width:"100%",paddingLeft:12,alignItems:"normal",fontWeight:1,borderColor:Z&&!H?"#dc3545":"#e5e5ea"}})})}),(0,o.jsx)(s.JX,{sm:"2"}),(0,o.jsx)(s.JX,{sm:"4"})]}),(0,o.jsxs)(s.X2,{children:[(0,o.jsx)(s.JX,{sm:"2",children:(0,o.jsx)("label",{children:"\u0e40\u0e25\u0e02\u0e17\u0e35\u0e48\u0e1a\u0e31\u0e15\u0e23\u0e1b\u0e23\u0e30\u0e0a\u0e32\u0e0a\u0e19"})}),(0,o.jsxs)(s.JX,{sm:"4",children:[A&&(0,o.jsx)("label",{style:{color:"#dc3545"},children:"*\u0e40\u0e25\u0e02\u0e17\u0e35\u0e48\u0e1a\u0e31\u0e15\u0e23\u0e1b\u0e23\u0e30\u0e0a\u0e32\u0e0a\u0e19\u0e15\u0e49\u0e2d\u0e07\u0e04\u0e23\u0e1a 13 \u0e2b\u0e25\u0e31\u0e01"}),(0,o.jsx)(d.Z,{name:"idNo",placeholder:"\u0e23\u0e30\u0e1a\u0e38\u0e40\u0e25\u0e02\u0e17\u0e35\u0e48\u0e1a\u0e31\u0e15\u0e23\u0e1b\u0e23\u0e30\u0e0a\u0e32\u0e0a\u0e19",autoComplete:"off",maxLength:"13",value:D,onChange:(0,c.vl)(x,j,"idNo"),onKeyPress:function(e){/[0-9]/.test(e.key)||e.preventDefault()},onPaste:function(e){/[0-9]/.test(e.key)||e.preventDefault()},onBlur:function(e){void 0!=e.target.value&&e.target.value.length>0&&e.target.value.length<13?M(!0):M(!1)},style:(0,c.lW)(Z,D)})]}),(0,o.jsx)(s.JX,{sm:"2"}),(0,o.jsx)(s.JX,{sm:"4"})]}),(0,o.jsxs)(s.X2,{children:[(0,o.jsx)(s.JX,{sm:"2",children:(0,o.jsx)("label",{children:"\u0e41\u0e1a\u0e1a\u0e1b\u0e23\u0e30\u0e01\u0e31\u0e19"})}),(0,o.jsx)(s.JX,{sm:"4",children:(0,o.jsx)(f.Z,{size:"md",style:{borderColor:Z&&!W?"red":""},onCreate:function(e,n){console.log(e,n)},data:t.planList,name:"planCode",placeholder:"\u0e23\u0e30\u0e1a\u0e38\u0e41\u0e1a\u0e1a\u0e1b\u0e23\u0e30\u0e01\u0e31\u0e19",autoComplete:"off",value:W,labelKey:"label",valueKey:"value",onChange:(0,c.vl)(x,j,"planCode")})})]}),(0,o.jsxs)(s.X2,{children:[(0,o.jsx)(s.JX,{sm:"2",children:(0,o.jsx)("label",{children:"\u0e17\u0e38\u0e19\u0e1b\u0e23\u0e30\u0e01\u0e31\u0e19"})}),(0,o.jsx)(s.JX,{sm:"3",children:(0,o.jsx)(d.Z,{name:"sum",placeholder:"\u0e23\u0e30\u0e1a\u0e38\u0e17\u0e38\u0e19\u0e1b\u0e23\u0e30\u0e01\u0e31\u0e19",autoComplete:"off",value:Y,onChange:(0,c.vl)(x,j,"sum"),onKeyPress:function(e){/[0-9]/.test(e.key)||e.preventDefault()},onPaste:function(e){/[0-9]/.test(e.key)||e.preventDefault()},style:(0,c.lW)(Z,Y),onBlur:function(e){var n=(0,c.OH)(e.target.value);j(X({},x,P({},"sum",n)))},onFocus:function(e){var n=e.target.value;n=n.replaceAll(",",""),j(X({},x,P({},"sum",n)))}})}),(0,o.jsx)(s.JX,{sm:"1",children:(0,o.jsx)("label",{className:"MainPage-label-left",children:"\u0e1a\u0e32\u0e17"})}),(0,o.jsx)(s.JX,{sm:"2"}),(0,o.jsx)(s.JX,{sm:"3"}),(0,o.jsx)(s.JX,{sm:"1"})]}),(0,o.jsx)("div",{className:"form-group",children:(0,o.jsxs)(s.X2,{children:[(0,o.jsx)(s.JX,{sm:"4"}),(0,o.jsx)(s.JX,{sm:"4",children:(0,o.jsx)(m.Z,{children:(0,o.jsxs)(u.Z,{appearance:"primary",onClick:K,children:[I&&(0,o.jsx)("span",{className:"spinner-border spinner-border-sm mr-1"}),"\u0e1b\u0e23\u0e30\u0e21\u0e27\u0e25\u0e1c\u0e25"]})})}),(0,o.jsx)(s.JX,{sm:"4"})]})})]})}),(0,o.jsx)("div",{children:(0,o.jsxs)(s.u_,{isOpen:p,children:[(0,o.jsxs)("div",{className:"modal-header",children:[(0,o.jsx)("h5",{className:"modal-title",children:"\u0e1c\u0e25\u0e01\u0e32\u0e23\u0e1e\u0e34\u0e08\u0e32\u0e23\u0e13\u0e32\u0e40\u0e1a\u0e37\u0e49\u0e2d\u0e07\u0e15\u0e49\u0e19"}),(0,o.jsx)("span",{"aria-hidden":"true",className:"modal-btn-close",onClick:b,children:"\xd7"})]}),(0,o.jsx)(s.fe,{children:(0,o.jsx)("div",{className:"row",children:(0,o.jsxs)("div",{className:"col-sm-12 label-modal-center",children:[y.result?(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"rule-detail-label5",children:y.message}),(0,o.jsx)("br",{}),(0,o.jsx)("label",{children:y.detail}),(0,o.jsx)("br",{})]}):(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"rule-detail-label6",children:y.message}),(0,o.jsx)("br",{}),(0,o.jsx)("label",{children:y.detail}),(0,o.jsx)("br",{})]}),(0,o.jsx)("label",{className:"rule-detail-label3",children:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38 : \u0e1c\u0e25\u0e01\u0e32\u0e23\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e02\u0e49\u0e32\u0e07\u0e15\u0e49\u0e19\u0e21\u0e34\u0e44\u0e14\u0e49\u0e40\u0e1b\u0e47\u0e19\u0e01\u0e32\u0e23\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e23\u0e31\u0e1a\u0e1b\u0e23\u0e30\u0e01\u0e31\u0e19\u0e20\u0e31\u0e22"}),(0,o.jsx)("br",{}),(0,o.jsx)("label",{className:"rule-detail-label3",children:"\u0e01\u0e32\u0e23\u0e1e\u0e34\u0e08\u0e32\u0e23\u0e13\u0e32\u0e23\u0e31\u0e1a\u0e1b\u0e23\u0e30\u0e01\u0e31\u0e19 \u0e08\u0e30\u0e02\u0e36\u0e49\u0e19\u0e2d\u0e22\u0e39\u0e48\u0e01\u0e31\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e17\u0e35\u0e48\u0e23\u0e30\u0e1a\u0e38\u0e43\u0e19\u0e43\u0e1a\u0e04\u0e33\u0e02\u0e2d\u0e40\u0e2d\u0e32\u0e1b\u0e23\u0e30\u0e01\u0e31\u0e19\u0e20\u0e31\u0e22\u0e40\u0e17\u0e48\u0e32\u0e19\u0e31\u0e49\u0e19"})]})})}),(0,o.jsx)("div",{className:"modal-footer-custom",children:(0,o.jsx)("button",{className:"modal-btn-cust",onClick:b,children:"OK"})})]})})]})}}}]);